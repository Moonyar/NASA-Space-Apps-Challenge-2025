<!doctype html>
<html>
  <body>
    <h2>Tune hyperparameters â€” {{ model }}</h2>
    <p><em>{{ model_info.summary }}</em></p>
    <ul>
      <li><strong>Pros:</strong> {{ model_info.pros | join(", ") }}</li>
      <li><strong>Cons:</strong> {{ model_info.cons | join(", ") }}</li>
    </ul>
    <form method="post" action="/tune">
      <h3>Model parameters</h3>
      {% for p in schema %}
        <div style="margin-bottom:10px">
          <label><strong>{{ p.name }}</strong></label><br>
          {% if p.type == 'choice' %}
            <select name="{{ p.name }}">
              {% for ch in p.choices %}<option value="{{ ch }}" {% if ch == p.default %}selected{% endif %}>{{ ch }}</option>{% endfor %}
            </select>
          {% else %}
            <input name="{{ p.name }}" value="{{ p.default if p.default is not none else '' }}" placeholder="{{ p.type }}">
          {% endif %}
          {% if p.help %}<div style="color:#666;font-size:.9em">{{ p.help }}</div>{% endif %}
        </div>
      {% endfor %}
      <h3>Optional feature selection (L1/L2)</h3>
      <p style="color:#666">{{ l1l2_help }}</p>
      <label><input type="radio" name="fs_method" value="none" checked> None</label>
      <label><input type="radio" name="fs_method" value="lasso"> Lasso (L1)</label>
      <label><input type="radio" name="fs_method" value="ridge"> Ridge (L2)</label>
      <div style="margin-top:8px">
        <label>Selection strength C:</label>
        <input type="number" step="0.1" name="fs_C" value="1.0">
        <div style="color:#666;font-size:.9em">Smaller C = stronger regularization (fewer features kept).</div>
      </div>
      <p><button type="submit" style="margin-top:12px">Next: Train/Test split</button></p>
    </form>
  </body>
</html>